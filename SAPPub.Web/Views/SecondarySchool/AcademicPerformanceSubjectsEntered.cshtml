@model SAPPub.Web.Models.SecondarySchool.AcademicPerformanceSubjectsEnteredViewModel;
@using SAPPub.Web.ViewComponents.VerticalNavigation

@{
    ViewData["Title"] = "Academic Performance";
}

<div class="govuk-grid-row">
    @await Component.InvokeAsync("VerticalNavigation",
    new VerticalNavigationModel
    {
        URN = Model.URN,
        SchoolName = Model.SchoolName,
        ActivePage = RouteConstants.SecondaryAcademicPerformanceSubjectsEntered
    })

    <div class="govuk-grid-column-three-quarters">
        <span id="school-name-caption" class="govuk-caption-xl">@Model.SchoolName</span>
        <h1 class="govuk-heading-xl">@ViewBag.Title</h1>
        <p class="govuk-body">
            Looking at school performance data is one way to see how well a school is doing.
            You should look at a range of information about a school before deciding if it’s the right fit for your child.
        </p>
        <nav id="sub-navigation-academic-performance" class="moj-sub-navigation" aria-label="Sub navigation">
            <ul class="moj-sub-navigation__list">
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link" asp-route="@RouteConstants.SecondaryAcademicPerformanceAttainmentAndProgress" asp-all-route-data="@Model.RouteAttributes">Attainment and progress</a>
                </li>
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link" asp-route="@RouteConstants.SecondaryAcademicPerformanceEnglishAndMathsResults" asp-all-route-data="@Model.RouteAttributes">English and maths results</a>
                </li>
                <li class="moj-sub-navigation__item">
                    <a class="moj-sub-navigation__link" aria-current="page" asp-route="@RouteConstants.SecondaryAcademicPerformanceSubjectsEntered" asp-all-route-data="@Model.RouteAttributes">Subjects entered</a>
                </li>
            </ul>
        </nav>

        <h2 class="govuk-heading-l">Subjects entered for the previous academic year</h2>

        <p class="govuk-body">
            Information in this section is for the 2024 to 2025 academic year.
        </p>

        <govuk-details id="details-academic-performance">
            <govuk-details-summary>
                What do the qualifications mean?
            </govuk-details-summary>
            <govuk-details-text>
                <p>A GCSE is an academic qualification awarded for exams in England, usually taken at the age of 16.</p>
                <p>Technical Awards, such as BTECs, are work-related qualifications in areas like travel and tourism or animal care.</p>
                <p>If the qualification offered is not applicable, it means that pupils will study this subject but will not gain a qualification.</p>
            </govuk-details-text>
        </govuk-details>

        @if (Model.CoreSubjects != null)
        {
            <table id="core-subjects-entered-table" class="govuk-table">
                <caption class="govuk-table__caption govuk-table__caption--m">Core subjects entered</caption>
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header govuk-!-width-one-third">Subject</th>
                        <th scope="col" class="govuk-table__header">Qualification</th>
                        <th scope="col" class="govuk-table__header">Percentage of pupils entered</th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                    @foreach (var subject in Model.CoreSubjects)
                    {
                        <tr class="govuk-table__row">
                            <td class="govuk-table__cell">@subject.Subject</td>
                            <td class="govuk-table__cell">@subject.Qualification</td>
                            <td class="govuk-table__cell">@subject.PercentageOfPupilsEntered</td>
                        </tr>
                    }
                </tbody>
            </table>
        }

        @if (Model.AdditionalSubjects != null)
        {
            <table id="additional-subjects-entered-table" class="govuk-table">
                <caption class="govuk-table__caption govuk-table__caption--m">Additional subjects entered</caption>
                <thead class="govuk-table__head">
                    <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header govuk-!-width-one-third">Subject</th>
                        <th scope="col" class="govuk-table__header">Qualification</th>
                        <th scope="col" class="govuk-table__header">Percentage of pupils entered</th>
                    </tr>
                </thead>
                <tbody class="govuk-table__body">
                    @foreach (var subject in Model.AdditionalSubjects)
                    {
                        <tr class="govuk-table__row">
                            <td class="govuk-table__cell">@subject.Subject</td>
                            <td class="govuk-table__cell">@subject.Qualification</td>
                            <td class="govuk-table__cell">@subject.PercentageOfPupilsEntered</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        <govuk-pagination id="academic-performance-subjects-entered-pagination">
            <govuk-pagination-previous asp-route="@RouteConstants.SecondaryAcademicPerformanceEnglishAndMathsResults" asp-all-route-data="@Model.RouteAttributes">Academic performance: English and maths results</govuk-pagination-previous>
            <govuk-pagination-next asp-route="@RouteConstants.SecondaryDestinations" asp-all-route-data="@Model.RouteAttributes">Destinations</govuk-pagination-next>
        </govuk-pagination>
    </div>
</div>