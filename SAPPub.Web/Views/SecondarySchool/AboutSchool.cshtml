@model SAPPub.Web.Models.SecondarySchool.AboutSchoolViewModel;
@using SAPPub.Web.ViewComponents.VerticalNavigation

@{
    ViewData["Title"] = "About the school";
}

<div class="govuk-grid-row">
    @await Component.InvokeAsync("VerticalNavigation",
    new VerticalNavigationModel
    {
        Urn = Model.Urn,
        SchoolName = Model.SchoolName,
        ActivePage = RouteConstants.SecondaryAboutSchool
    })

    <div class="govuk-grid-column-three-quarters">
        <h1 class="govuk-heading-l">@ViewBag.Title</h1>

        <dl id="school-details-summary" class="govuk-summary-list">
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Name
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.Name
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Academy Trust
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.AcademyTrust

                    @if (!string.IsNullOrWhiteSpace(Model.AcademyTrustUpdatedIn))
                    {
                        <span class="govuk-hint govuk-clear">
                            (updated in @Model.AcademyTrustUpdatedIn)
                        </span>
                    }
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Website
                </dt>
                <dd class="govuk-summary-list__value">
                    <a href="@Model.Website" target="_blank">@Model.Website</a>
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Telephone
                </dt>
                <dd class="govuk-summary-list__value">
                    <a href="tel:@Model.Telephone">@Model.Telephone</a>                    
                </dd>
            </div>
        </dl>

        <h2 class="govuk-heading-l">Location</h2>

        <dl id="school-location-summary" class="govuk-summary-list">
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Address
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.Address
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Local authority
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.LocalAuthority
                    <span class="govuk-clear">
                        <a href="@Model.LocalAuthorityWebsite" target="_blank">View @Model.LocalAuthority City Council's website</a>
                    </span>
                </dd>
            </div>
            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Your distance from this school
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.YouDistanceFromThisSchool
                </dd>
            </div>
        </dl>

        <govuk-details id="details-map">
            <govuk-details-summary>
                View this information on a map
            </govuk-details-summary>
            <govuk-details-text>
                <div id="map"
                     data-radius-miles="3"
                     data-data-url="/map/schools"
                     data-fixed-zoom="14"
                     data-fallback-lat="51.5099"
                     data-fallback-lon="-0.0141"
                     role="region"
                     aria-label="Map of primary schools near you">
                    <div class="map-loading">Finding your location…</div>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <img src="~/assets/images/markers/marker-user.svg" alt="" />
                        <span>Your location</span>
                    </div>
                    <div class="legend-item">
                        <img src="~/assets/images/markers/marker-school-target.svg" alt="" />
                        <span>Greystones Primary School</span>
                    </div>
                    @* <div class="legend-item">
                        <img src="~/assets/images/markers/marker-school-nearby.svg" alt="" />
                        <span>Other primary schools within 3 miles</span>
                    </div> *@
                </div>
            </govuk-details-text>
        </govuk-details>

        <govuk-details id="details-sen">
            <govuk-details-summary>
                What is a SEN unit or a resourced provision?
            </govuk-details-summary>
            <govuk-details-text>
                <p>
                    Special educational needs (SEN) units and resourced provisions are specialist provisions in mainstream schools formally recognised by the local authority.
                </p>
                <p>
                    In SEN units pupils are taught within separate classes for at least half of their time.
                </p>
                <p>
                    In resourced provisions, pupils are taught within mainstream classes for at least half of their time, but have access to a base and specialist facilities around the school.
                </p>
                <p>
                    They are both for pupils with SEN, who typically have education, health, and care (EHC) plans.
                </p>
            </govuk-details-text>
        </govuk-details>

        <h2 class="govuk-heading-l">School policies</h2>

        <div id="school-policies-summary" class="govuk-summary-card">
            <div class="govuk-summary-card__title-wrapper">
                <h3 class="govuk-summary-card__title">Documents published by the school</h3>
            </div>
            <div class="govuk-summary-card__content">
                <div class="govuk-summary-list__row">
                    <p>
                        All schools in England must publish statutory policies and documents that explain how the school is run and how staff and pupils should behave.
                        Statutory policies and documents must be published on the school’s website. Schools can also create their own guidelines.
                    </p>
                    <a href="@Model.Website" target="_blank">View these policies on the school website</a>
                </div>
                
                <table class="govuk-table govuk-!-margin-top-5">
                    <thead class="govuk-table__head">
                        <tr class="govuk-table__row">
                            <th scope="col" class="govuk-table__header">Policy</th>
                            <th scope="col" class="govuk-table__header">Description</th>
                        </tr>
                    </thead>
                    <tbody class="govuk-table__body">
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header">Accessibility plan</th>
                            <td class="govuk-table__cell">Includes how to increase curriculum participation, improve the physical environment, and make information more accessible for pupils with disabilities.</td>
                        </tr>
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header">Behaviour policy</th>
                            <td class="govuk-table__cell">Includes school rules, what behaviour is expected of pupils and what the school does to prevent bullying.</td>
                        </tr>
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header">Charging and remissions policy</th>
                            <td class="govuk-table__cell">Schools may charge for certain activities such as school trips or music tuition. This policy covers what the school charges for and when these charges can be reduced or waived.</td>
                        </tr>
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header">Compliants policy</th>
                            <td class="govuk-table__cell">A complaints policy shows how parents or carers can raise concerns with a school and how to make a complaint.</td>
                        </tr>
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header">Safeguarding policy</th>
                            <td class="govuk-table__cell">Outlines how the school protects pupils from harm, ensuring their safety and well-being.</td>
                        </tr>
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header">School uniform policy</th>
                            <td class="govuk-table__cell">Outlines to parents and carers what pupils are expected to wear and what the exceptions are.</td>
                        </tr>
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header">Special educational needs and disabilities (SEND) information report</th>
                            <td class="govuk-table__cell">Schools must publish a report on their approach to SEND, including how the school supports pupils with SEND.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/js/map-schools.js"></script>
}